"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[216],{85535:function(e,n,t){t(72791);n.Z=t.p+"static/media/editPen.a8f48c3329546d08e181e1453a64e6b7.svg"},11687:function(e,n,t){t.d(n,{R:function(){return a}});var a="https://troes.io/Admin/public/api"},96216:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var a=t(74165),s=t(15861),i=t(29439),l=t(72791),c=t(37083),r=t(87309),o=t(74569),d=t.n(o),p=t(85535);var u=t.p+"static/media/ep_pricetag.ed6ef2e1a92d391474d3ec03e04a81b2.svg",m=t(57689),h=t(11687),_=t(82622),x=t(79286),f=t(80184),g=function(){var e=(0,l.useState)(!1),n=(0,i.Z)(e,2),t=n[0],o=n[1],g=(0,l.useState)([]),j=(0,i.Z)(g,2),v=j[0],y=j[1],N=(0,l.useState)([]),k=(0,i.Z)(N,2),b=k[0],Z=k[1],w=(0,l.useState)(!1),S=(0,i.Z)(w,2),P=S[0],C=S[1],E=(0,l.useState)(!1),T=(0,i.Z)(E,2),q=T[0],L=T[1],R=(0,l.useState)([]),A=(0,i.Z)(R,2),O=A[0],W=A[1],z=(0,l.useState)(""),M=(0,i.Z)(z,2),I=M[0],H=M[1],$=(0,l.useState)(""),B=(0,i.Z)($,2),D=B[0],F=B[1],J=(0,l.useState)(""),U=(0,i.Z)(J,2),V=U[0],G=U[1],K=(0,l.useState)(""),Q=(0,i.Z)(K,2),X=Q[0],Y=Q[1],ee=(0,l.useState)(""),ne=(0,i.Z)(ee,2),te=ne[0],ae=ne[1],se=(0,l.useState)(""),ie=(0,i.Z)(se,2),le=ie[0],ce=ie[1],re=(0,l.useState)(""),oe=(0,i.Z)(re,2),de=oe[0],pe=oe[1],ue=(0,l.useState)(!1),me=(0,i.Z)(ue,2),he=me[0],_e=me[1],xe=(0,l.useState)(!1),fe=(0,i.Z)(xe,2),ge=fe[0],je=fe[1],ve=(0,l.useState)(""),ye=(0,i.Z)(ve,2),Ne=ye[0],ke=ye[1],be=(0,l.useState)(""),Ze=(0,i.Z)(be,2),we=Ze[0],Se=Ze[1],Pe=(0,l.useState)(""),Ce=(0,i.Z)(Pe,2),Ee=Ce[0],Te=Ce[1],qe=(0,l.useState)(""),Le=(0,i.Z)(qe,2),Re=Le[0],Ae=Le[1],Oe=(0,l.useState)(""),We=(0,i.Z)(Oe,2),ze=We[0],Me=We[1],Ie=(0,l.useState)(""),He=(0,i.Z)(Ie,2),$e=He[0],Be=He[1],De=(0,l.useState)(""),Fe=(0,i.Z)(De,2),Je=Fe[0],Ue=Fe[1],Ve=(0,l.useState)(!1),Ge=(0,i.Z)(Ve,2),Ke=Ge[0],Qe=Ge[1],Xe=(0,l.useState)(!1),Ye=(0,i.Z)(Xe,2),en=Ye[0],nn=Ye[1],tn=(0,l.useState)(!1),an=(0,i.Z)(tn,2),sn=an[0],ln=an[1],cn=(0,l.useState)(!1),rn=(0,i.Z)(cn,2),on=rn[0],dn=rn[1],pn=(0,l.useState)(!1),un=(0,i.Z)(pn,2),mn=un[0],hn=un[1],_n=(0,m.s0)();(0,l.useEffect)((function(){localStorage.getItem("token")||_n("/login")}),[]),console.log(Re,"kkk");var xn=function(e){C(!0),d().get("".concat(h.R,"/pricedetails?location=").concat(Je)).then((function(e){Z(e.data.customers),C(!1)})).catch((function(e){C(!1)}))};(0,l.useEffect)((function(){xn()}),[]);function fn(e){return gn.apply(this,arguments)}function gn(){return(gn=(0,s.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),o((function(e){return!e})),n.preventDefault(),F(""),G(""),Y(""),ae(""),ce(""),""==$e&&F("Please select location"),""==Ee&&G("Please enter value"),""==we&&Y("Please enter value"),""==Ne&&ae("Please enter value"),""==ze&&ce("Please enter value"),""==Re&&pe("Please enter value"),t={location:$e,package_name:Ne,mi_eq:we,kwh:Ee,total_price:ze,location_id:Je,dollar_mi:Re},!(Ne&&Re&&we&&Ee&&ze&&$e)){e.next=25;break}return e.next=18,fetch("".concat(h.R,"/price"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)});case 18:e.sent,nn(!0),C(!1),setTimeout((function(){nn(!1)}),2e3),xn(),e.next=27;break;case 25:o(!0),C(!1);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(){return(jn=(0,s.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(!0),L((function(e){return!e})),!(Ne&&we&&Ee&&ze&&Re)){e.next=14;break}return e.next=5,fetch("".concat(h.R,"/priceupdate/").concat(I),{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({package_name:Ne,mi_eq:we,kwh:Ee,total_price:ze,dollar_mi:Re})});case 5:return t=e.sent,e.next=8,t.json();case 8:ln(!0),C(!1),setTimeout((function(){ln(!1)}),2e3),xn(),e.next=16;break;case 14:alert("invalid details"),C(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,l.useEffect)((function(){C(!0),d().get("".concat(h.R,"/location")).then((function(e){y(e.data.customers),C(!1)})).catch((function(e){return console.log(e)}))}),[]),(0,l.useEffect)((function(){Ae(""),Se(""),Te(""),ke(""),Me("")}),[t]);var vn=function(e){o((function(e){return!e}))};(0,l.useEffect)((function(){!function(){var e=b.length;hn(!(e<3))}()}),[b,ge]);var yn=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(!0),_e((function(e){return!e})),d().delete("".concat(h.R,"/price/").concat(n)).then((function(){je((function(e){return!e})),dn(!0),C(!1),setTimeout((function(){dn(!1)}),2e3)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){xn()}),[ge]),console.log(Je,"pooppo"),(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"admin__page",style:{position:"relative"},children:[P?(0,f.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1000"},children:(0,f.jsx)(c.Z,{size:"large",style:{fontSize:"30px"}})}):"",(0,f.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,f.jsx)("p",{className:"price__acount",children:"Price Management"})}),(0,f.jsx)("div",{style:{background:"#fff"},children:(0,f.jsxs)("div",{style:{padding:"20px 20px"},children:[(0,f.jsxs)(r.Z,{disabled:mn,onClick:vn,style:{background:"#1890ff",color:"#fff",borderRadius:"15px",padding:"5px 15px",border:"none",fontWeight:"bold"},children:["Add New Plan",(0,f.jsx)("img",{className:"admin__black",src:u,alt:"logo"})]}),(0,f.jsx)("br",{}),mn?(0,f.jsx)("p",{style:{color:"red",paddingLeft:"5px"},children:"Only three packages per location are allowed."}):""]})}),(0,f.jsx)("div",{className:"show__notShow",style:{display:t?"block":"none"},children:(0,f.jsxs)("form",{onSubmit:fn,children:[(0,f.jsx)("div",{className:"create_Location__packag",children:(0,f.jsx)("p",{children:"Add new package"})}),(0,f.jsxs)("div",{id:"add__Item",children:[(0,f.jsx)("p",{className:"nameEmail__Price",children:"Location Name"}),(0,f.jsx)("input",{className:"locate__input",type:"text",name:"",id:"",readOnly:!0,value:$e}),(0,f.jsx)("input",{className:"locate__input",type:"hidden",name:"",id:"",readOnly:!0,value:Je}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"11px"},children:D}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"Stripe Product Name"}),(0,f.jsx)("input",{className:"locate__input",type:"text",name:"package_name",value:Ne,placeholder:"Eg. Base Package - 4",onChange:function(e){return ke(e.target.value)}}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"11px"},children:te}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"kWh"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"kwh",value:Ee,placeholder:"kWh",onChange:function(e){return Te(e.target.value)}}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"11px"},children:V}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"Mi Eq"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"mi_eq",value:we,placeholder:"Eg. 2000",onChange:function(e){return Se(e.target.value)}}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"11px"},children:X}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"$/Mi"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"dollar_mi",value:Re,placeholder:"Eg. 2000",onChange:function(e){return Ae(e.target.value)}}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"11px"},children:de}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"Total Price/month"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"price",value:ze,placeholder:"Eg.$149",onChange:function(e){return Me(e.target.value)}}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"11px"},children:le}),(0,f.jsxs)("div",{className:"locate_side",style:{paddingLeft:"10px"},children:[(0,f.jsx)("button",{type:"submit",className:"create_new__location",onClick:fn,children:"Add"}),(0,f.jsx)(r.Z,{onClick:function(e){o((function(e){return!e}))},className:"cancel__create__location",id:"not_ShowCancel",children:"Cancel"})]})]})]})}),(0,f.jsxs)("div",{className:"show__notShow",style:{display:q?"block":"none"},children:[(0,f.jsx)("div",{className:"create_Location__edit_one",children:(0,f.jsx)("p",{children:"Edit Plan"})}),(0,f.jsxs)("div",{id:"form__admin__Price",style:{marginTop:"100px"},children:[(0,f.jsx)("p",{className:"nameEmail__Price",children:"Location Name"}),(0,f.jsx)("input",{type:"text",name:"",id:"",readOnly:!0,value:$e,className:"locate__input"}),(0,f.jsx)("span",{style:{color:"red",paddingLeft:"11px"},children:D}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"Package Name"}),(0,f.jsx)("input",{className:"locate__input",type:"text",name:"package_name",value:Ne,placeholder:"Eg. Base Package - 4",onChange:function(e){return ke(e.target.value)}}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"kWh"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"kwh",value:Ee,placeholder:"kWh",onChange:function(e){return Te(e.target.value)}}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"Mi Eq"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"mi_eq",value:we,placeholder:"Eg. 2000",onChange:function(e){return Se(e.target.value)}}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"$/Mi"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"dollar_mi",value:Re,placeholder:"Eg. 2000",onChange:function(e){return Ae(e.target.value)}}),(0,f.jsx)("p",{className:"nameEmail__Price",children:"Total Price/month"}),(0,f.jsx)("input",{className:"locate__input",type:"number",name:"price",value:ze,placeholder:"Eg.$149",onChange:function(e){return Me(e.target.value)}}),(0,f.jsxs)("div",{className:"locate_side",style:{paddingLeft:"10px"},children:[(0,f.jsx)("button",{type:"submit",className:"create_new__location",onClick:function(){return function(e){return jn.apply(this,arguments)}(I)},children:"Update"}),(0,f.jsx)(r.Z,{onClick:function(e){L((function(e){return!e}))},className:"cancel__create__location",id:"not_ShowCancel",children:"Cancel"})]})]})]}),(0,f.jsxs)("div",{className:"show__notShow",style:{display:he?"block":"none"},children:[(0,f.jsx)("div",{className:"confirm__delete",children:(0,f.jsx)("p",{children:"Confirm Delete"})}),(0,f.jsxs)("div",{className:"delete__admin",children:[(0,f.jsx)("p",{children:"Are you sure you want to delete the location"}),(0,f.jsx)("p",{style:{marginTop:"-10px"},children:(0,f.jsx)("span",{style:{fontWeight:"bolder"},children:O.location})}),(0,f.jsx)("p",{style:{marginTop:"-10px"},children:" This process is Irreversible"}),(0,f.jsxs)("div",{style:{paddingLeft:"10px"},children:[(0,f.jsx)("button",{onClick:function(){return yn(I)},type:"submit",className:"delete_new__admin",children:"Delete"}),(0,f.jsx)("button",{onClick:function(){_e((function(e){return!e}))},className:"cancel__create__location",type:"submit",children:"Cancel"})]})]})]}),(0,f.jsxs)("div",{className:"",children:[(0,f.jsxs)("div",{className:"location_wrapper",children:[(0,f.jsx)("label",{className:"for_respn",style:{marginRight:"10px",fontWeight:"bold"},children:"Select Location:"}),(0,f.jsxs)("select",{id:"option__value",onChange:function(e){C(!0),Qe(!0),Be(e.target.value),Ue(e.target.selectedOptions[0].getAttribute("data-name")),d().get("".concat(h.R,"/pricedetails?location=").concat(e.target.selectedOptions[0].getAttribute("data-name"))).then((function(e){Z(e.data.customers),C(!1)})).catch((function(e){C(!1),Qe(!1)}))},children:[(0,f.jsx)("option",{value:"",children:"Select Location"}),v&&v.map((function(e,n){return(0,f.jsx)("option",{"data-name":e.id,value:e.location,children:e.location},n)}))]}),(0,f.jsx)("br",{}),Ke?"":(0,f.jsx)("span",{className:"plezz_select",children:"Please select location"})]}),(0,f.jsxs)("div",{className:"upper",children:[b&&b.map((function(e,n){return console.log(e,"kkkk"),(0,f.jsxs)("div",{className:"upper_middle",children:[(0,f.jsx)("div",{className:"for_box_shadow",children:(0,f.jsxs)("div",{className:"middle_div",children:[(0,f.jsxs)("div",{className:"mddlee_upper",children:[(0,f.jsxs)("div",{className:"line_kwh",children:[(0,f.jsx)("p",{className:"all_kwH",children:"kWh"}),(0,f.jsx)("p",{className:"all_kwH",children:e.kwh})]}),(0,f.jsxs)("div",{className:"line_kwh",children:[(0,f.jsx)("p",{className:"all_kwH",children:"Mi Eq"}),(0,f.jsxs)("p",{className:"all_kwH",children:["~",e.mi_eq]})]}),(0,f.jsxs)("div",{className:"line_kwh",children:[(0,f.jsx)("p",{className:"all_kwH",children:"$/Mi"}),(0,f.jsx)("p",{className:"all_kwH",children:e.dollar_mi})]})]}),(0,f.jsx)("div",{className:"middle_Midle",children:(0,f.jsx)("p",{style:{fontWeight:"500",fontSize:"14px"},children:e.location})}),(0,f.jsx)("div",{className:"middle__price",children:(0,f.jsx)("p",{children:e.package_name})}),(0,f.jsx)("br",{}),(0,f.jsx)("hr",{style:{width:"95%",margin:"auto"}}),(0,f.jsx)("div",{className:"bottom__toTal",children:(0,f.jsxs)("p",{className:"mont_Total",children:["Total: $",e.total_price," /month"]})})]})}),(0,f.jsx)("div",{className:"ekdam__bttom",children:(0,f.jsx)("p",{children:e.package_name})}),(0,f.jsxs)("div",{className:"bottom__upate",children:[(0,f.jsx)("button",{onClick:function(){Me(e.total_price),ke(e.package_name),Ae(e.dollar_mi),Te(e.kwh),Se(e.mi_eq),W(e),H(e.id),L((function(e){return!e}))},style:{border:"none",paddingRight:"18px",background:"none"},children:(0,f.jsx)("img",{src:p.Z,alt:"edit",style:{width:"20px"}})}),(0,f.jsx)("button",{onClick:function(){return W(e),H(e.id),void _e((function(e){return!e}))},style:{border:"none",background:"none"},children:(0,f.jsx)(_.Z,{style:{color:"red",fontWeight:"bolder",fontSize:"18px"}})})]})]},n)})),(0,f.jsxs)("div",{className:"bottom_border",children:[(0,f.jsx)(r.Z,{disabled:mn,onClick:vn,style:{border:"none",background:"none"},children:(0,f.jsx)(x.Z,{style:{color:"#b1d34f",fontSize:"30px",fontWeight:"bolder"}})}),(0,f.jsx)("p",{style:{paddingTop:"5px"},children:"Add new plan"})]})]})]}),(0,f.jsx)("div",{className:"user__detail__popup__Price",style:{display:en?"block":"none"},children:(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,f.jsx)("img",{src:u,alt:"logo",style:{paddingRight:"10px",display:"block",marginTop:"-5px",height:"15px",objectFit:"contain"}}),(0,f.jsx)("p",{className:"admin_registerd__pop",children:"New package added successfully."})]})}),(0,f.jsx)("div",{className:"user__detail__popup__Price",style:{display:sn?"block":"none"},children:(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,f.jsx)("img",{src:u,alt:"logo",style:{paddingRight:"10px",display:"block",marginTop:"-5px",objectFit:"contain",height:"15px"}}),(0,f.jsx)("p",{className:"admin_registerd__pop",children:"Package information updated."})]})}),(0,f.jsx)("div",{className:"user__detail__popup__Price",style:{display:on?"block":"none"},children:(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,f.jsx)(_.Z,{style:{display:"block",color:"#fff",fontWeight:"bolder",paddingRight:"10px",marginTop:"-5px",fontSize:"18px"}}),(0,f.jsx)("p",{className:"admin_registerd__pop",children:"Package has been deleted."})]})})]})})}},79286:function(e,n,t){t.d(n,{Z:function(){return r}});var a=t(1413),s=t(72791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=t(54291),c=function(e,n){return s.createElement(l.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:i}))};c.displayName="PlusOutlined";var r=s.forwardRef(c)}}]);
//# sourceMappingURL=216.ac4e9cf7.chunk.js.map