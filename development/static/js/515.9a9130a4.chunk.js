"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[515],{85535:function(e,t,n){n(72791);t.Z=n.p+"static/media/editPen.a8f48c3329546d08e181e1453a64e6b7.svg"},11687:function(e,t,n){n.d(t,{R4:function(){return a},Y0:function(){return i}});var a="https://troes.io/Development/public/api",i="https://tro.tentoptoday.com/Development/public/api"},90515:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=n(74165),i=n(15861),c=n(29439),s=n(72791),o=n(37083),l=n(87309),r=n(74569),d=n.n(r),u=n(82622),p=n(85535);var _=n.p+"static/media/location_tag.ef9d66e1189e8c2cb4a36276dd77963b.svg",h=n(11687),x=n(57689),m=n(80184),f=function(){var e=(0,s.useState)(!1),t=(0,c.Z)(e,2),n=t[0],r=t[1],f=(0,s.useState)([]),j=(0,c.Z)(f,2),g=j[0],y=j[1],N=(0,s.useState)(!1),v=(0,c.Z)(N,2),b=v[0],Z=v[1],S=(0,s.useState)(!1),k=(0,c.Z)(S,2),w=k[0],C=k[1],L=(0,s.useState)([]),T=(0,c.Z)(L,2),I=T[0],E=T[1],D=(0,s.useState)(""),P=(0,c.Z)(D,2),A=P[0],Y=P[1],z=(0,s.useState)(!1),O=(0,c.Z)(z,2),R=O[0],F=O[1],W=(0,s.useState)(!1),U=(0,c.Z)(W,2),B=U[0],J=U[1],M=(0,s.useState)(""),X=(0,c.Z)(M,2),q=X[0],G=X[1],H=(0,s.useState)(""),K=(0,c.Z)(H,2),Q=K[0],V=K[1],$=(0,s.useState)(""),ee=(0,c.Z)($,2),te=ee[0],ne=ee[1],ae=(0,s.useState)(!1),ie=(0,c.Z)(ae,2),ce=ie[0],se=ie[1],oe=(0,s.useState)(!1),le=(0,c.Z)(oe,2),re=le[0],de=le[1],ue=(0,s.useState)(!1),pe=(0,c.Z)(ue,2),_e=pe[0],he=pe[1],xe=(0,x.s0)();(0,s.useEffect)((function(){localStorage.getItem("token")||xe("/login")}),[]);var me=function(e){Z(!0),d().get("".concat(h.Y0,"/location")).then((function(e){y(e.data.customers),Z(!1)})).catch((function(e){return console.log(e)}))};function fe(e){return je.apply(this,arguments)}function je(){return(je=(0,i.Z)((0,a.Z)().mark((function e(t){var n,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),r((function(e){return!e})),t.preventDefault(),n={location:q,state:Q,ZIP_code:te},!(q&&Q&&te)){e.next=14;break}return e.next=7,fetch("".concat(h.Y0,"/locationregister"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 7:return i=e.sent,e.next=10,i.json();case 10:(i=e.sent).error?(alert("Location allready exists!!"),Z(!1)):(se(!0),Z(!1),setTimeout((function(){se(!1)}),2e3),me()),e.next=16;break;case 14:alert("Invalid details"),Z(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=(0,i.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z(!0),C((function(e){return!e})),!(q&&Q&&te)){e.next=14;break}return e.next=5,fetch("".concat(h.Y0,"/locationupdate/").concat(A),{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({location:q,state:Q,ZIP_code:te})});case 5:return n=e.sent,e.next=8,n.json();case 8:de(!0),Z(!1),setTimeout((function(){de(!1)}),2e3),me(),e.next=16;break;case 14:alert("Invalid details"),Z(!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,s.useEffect)((function(){me()}),[]),(0,s.useEffect)((function(){G(""),V(""),ne("")}),[n]);var ye=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),F((function(e){return!e})),d().delete("".concat(h.Y0,"/location/").concat(t)).then((function(){J((function(e){return!e})),he(!0),Z(!1),setTimeout((function(){he(!1)}),2e3)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){me()}),[B]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"admin__page",style:{position:"relative"},children:[b?(0,m.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1000"},children:(0,m.jsx)(o.Z,{size:"large",style:{fontSize:"30px"}})}):"",(0,m.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,m.jsx)("p",{className:"location__acount",children:"Location Management"}),(0,m.jsxs)("p",{className:"total__location",children:["Total Locations : ",g.length]})]}),(0,m.jsx)("div",{style:{background:"#fff"},children:(0,m.jsx)("div",{style:{padding:"20px 20px"},children:(0,m.jsxs)("button",{onClick:function(e){r((function(e){return!e}))},style:{background:"#1890ff",color:"#fff",borderRadius:"15px",padding:"8px 15px",border:"none",fontWeight:"bold"},children:["Add New Location",(0,m.jsx)("img",{className:"admin__black",src:_,alt:"logo"})]})})}),(0,m.jsx)("div",{className:"show__notShow",style:{display:n?"block":"none"},children:(0,m.jsxs)("form",{onSubmit:fe,children:[(0,m.jsx)("div",{id:"create_Location",children:(0,m.jsx)("p",{children:"Add new location"})}),(0,m.jsxs)("div",{id:"form__admin__locate",children:[(0,m.jsx)("p",{className:"nameEmail__Location",style:{paddingTop:"20px"},children:"Location Name"}),(0,m.jsx)("input",{className:"locate__input",type:"text",name:"location",value:q,placeholder:"Ex. Submarine Base",onChange:function(e){return G(e.target.value)}}),(0,m.jsx)("p",{className:"nameEmail__Location",children:"State"}),(0,m.jsx)("input",{className:"locate__input",type:"text",name:"state",value:Q,placeholder:"Ex. New London",onChange:function(e){return V(e.target.value)}}),(0,m.jsx)("p",{className:"nameEmail__Location",children:"Zip Code"}),(0,m.jsx)("input",{className:"locate__input",type:"number",name:"ZIP_code",value:te,placeholder:" 111222",onChange:function(e){return ne(e.target.value)}}),(0,m.jsxs)("div",{className:"locate_side",style:{paddingLeft:"10px"},children:[(0,m.jsx)("button",{type:"submit",className:"create_new__location",onClick:fe,children:"Add"}),(0,m.jsx)(l.Z,{onClick:function(e){r((function(e){return!e}))},className:"cancel__create__location",id:"not_ShowCancel",children:"Cancel"})]})]})]})}),(0,m.jsxs)("div",{className:"show__notShow",style:{display:w?"block":"none"},children:[(0,m.jsx)("div",{id:"create_Location__edit",children:(0,m.jsx)("p",{children:"Edit location"})}),(0,m.jsxs)("div",{id:"form__admin__update",children:[(0,m.jsx)("p",{className:"nameEmail__Location",style:{paddingTop:"20px"},children:"Location Name"}),(0,m.jsx)("input",{className:"locate__input",type:"text",name:"location",value:q,placeholder:"Ex. Submarine Base",onChange:function(e){return G(e.target.value)}}),(0,m.jsx)("p",{className:"nameEmail__Location",children:"State"}),(0,m.jsx)("input",{className:"locate__input",type:"text",name:"state",value:Q,placeholder:"Ex. New London",onChange:function(e){return V(e.target.value)}}),(0,m.jsx)("p",{className:"nameEmail__Location",children:"Zip Code"}),(0,m.jsx)("input",{className:"locate__input",type:"number",name:"ZIP_code",value:te,placeholder:" 111222",onChange:function(e){return ne(e.target.value)}}),(0,m.jsxs)("div",{className:"locate_side",style:{paddingLeft:"10px"},children:[(0,m.jsx)("button",{type:"submit",className:"create_new__location",onClick:function(){return function(e){return ge.apply(this,arguments)}(A)},children:"Update"}),(0,m.jsx)(l.Z,{onClick:function(e){C((function(e){return!e}))},className:"cancel__create__location",id:"not_ShowCancel",children:"Cancel"})]})]})]}),(0,m.jsxs)("div",{className:"show__notShow",style:{display:R?"block":"none"},children:[(0,m.jsx)("div",{id:"confirm__delete_location",children:(0,m.jsx)("p",{children:"Confirm Delete"})}),(0,m.jsxs)("div",{id:"delete__Location",children:[(0,m.jsx)("p",{children:"Are you sure you want to delete location"}),(0,m.jsx)("p",{style:{marginTop:"-10px"},children:(0,m.jsx)("span",{style:{fontWeight:"bolder"},children:I.location})}),(0,m.jsx)("p",{style:{marginTop:"-10px"},children:" This process is Irreversible"}),(0,m.jsxs)("div",{style:{paddingLeft:"10px"},children:[(0,m.jsx)("button",{onClick:function(){return ye(A)},type:"submit",className:"delete_new__admin",children:"Delete"}),(0,m.jsx)("button",{onClick:function(){F((function(e){return!e}))},className:"cancel__create__location",type:"submit",children:"Cancel"})]})]})]}),(0,m.jsx)("div",{className:"",style:{marginTop:"10px",overflowX:"auto"},children:(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{className:"location__information",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{className:"t_Name",children:"S.No."}),(0,m.jsx)("th",{className:"t_Name",children:"Location"}),(0,m.jsx)("th",{className:"t_Name",children:"State"}),(0,m.jsx)("th",{className:"t_Name",children:"Zip Code"}),(0,m.jsx)("th",{className:"t_Name",children:"Date"}),(0,m.jsx)("th",{className:"t_Name",children:"Update"}),(0,m.jsx)("th",{className:"t_Name",children:"Delete"})]})}),(0,m.jsx)("tbody",{style:{background:"#fff"},children:g&&g.map((function(e,t){function n(e){return e.toString().padStart(2,"0")}var a,i=[n((a=new Date(e.pwa_date)).getDate()),n(a.getMonth()+1),a.getFullYear()].join("-");return(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:t+1}),(0,m.jsx)("td",{children:e.location}),(0,m.jsx)("td",{children:e.state}),(0,m.jsx)("td",{children:e.ZIP_code}),(0,m.jsx)("td",{children:i}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{onClick:function(){G(e.location),V(e.state),ne(e.ZIP_code),E(e),Y(e.id),C((function(e){return!e}))},className:"update__Location",children:(0,m.jsx)("img",{src:p.Z,alt:"edit",style:{width:"20px"}})})}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{className:"delete__Location__of",onClick:function(){return E(e),Y(e.id),void F((function(e){return!e}))},children:(0,m.jsx)(u.Z,{style:{color:"red",fontWeight:"bolder",fontSize:"18px"}})})})]},t)}))})]})}),(0,m.jsx)("div",{className:"user__detail__popup__location",style:{display:ce?"block":"none"},children:(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,m.jsx)("img",{src:_,alt:"logo",style:{paddingRight:"10px",display:"block",marginTop:"-5px",height:"15px",objectFit:"contain"}}),(0,m.jsx)("p",{className:"admin_registerd__pop",children:"New location added successfully."})]})}),(0,m.jsx)("div",{className:"user__detail__popup__location",style:{display:re?"block":"none"},children:(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,m.jsx)("img",{src:_,alt:"logo",style:{paddingRight:"10px",display:"block",marginTop:"-5px",objectFit:"contain",height:"15px"}}),(0,m.jsx)("p",{className:"admin_registerd__pop",children:"Location information updated."})]})}),(0,m.jsx)("div",{className:"user__detail__popup__location",style:{display:_e?"block":"none"},children:(0,m.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(u.Z,{style:{display:"block",color:"#fff",fontWeight:"bolder",paddingRight:"10px",marginTop:"-5px",fontSize:"18px"}}),(0,m.jsx)("p",{className:"admin_registerd__pop",children:"Location has been deleted."})]})})]})})}}}]);
//# sourceMappingURL=515.9a9130a4.chunk.js.map